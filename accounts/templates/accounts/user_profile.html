{% extends '_base.html' %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% load persian_price %}
{% load jformat %}
{% load static %}
{% load i18n %}

{% block page_title %}| {% trans 'Profile' %}{% endblock page_title %}
{% block page_Breadcrumb %}{% trans 'Account' %}{% endblock page_Breadcrumb %}

{% block content %}

    <!-- Main Content Wrapper Start -->
    <div class="main-content-wrapper">
        <div class="page-content-inner ptb--80">
            <div class="container" style="direction: rtl">
                <div class="row">
                    <div class="col-12">
                        <div class="user-dashboard-tab flex-column flex-md-row">
                            <div class="user-dashboard-tab__head nav flex-md-column" role="tablist"
                                 aria-orientation="vertical" style="margin-left: 5%; font-size: large">
                                <button type="button" class="nav-link active" data-bs-toggle="tab" role="tab"
                                        data-bs-target="#dashboard" aria-controls="dashboard" aria-selected="true">
                                    {% trans 'Dashboard' %}
                                </button>
                                <button type="button" class="nav-link" data-bs-toggle="tab" role="tab"
                                        data-bs-target="#orders" aria-controls="orders" aria-selected="true">
                                    {% trans 'Orders' %}
                                </button>
                                <a class="nav-link" href="{% url 'accounts:logout_confirm' %}">{% trans 'Logout' %}</a>
                            </div>

                            <div class="user-dashboard-tab__content tab-content">
                                <div class="tab-pane fade show active" id="dashboard">
                                    <h1 class="title" style="font-family: RastinPlus, sans-serif">{% trans 'Hello' %}
                                        <strong>{{ user_profile.name }}</strong> {% trans ' Dear' %}
                                        &ensp;<i class="fa fa-heart-o" style="color: red"></i>
                                    </h1>
                                    <p style="color: #E91E63; font-size: small">
                                        * {% trans 'Please review and complete the following details carefully to avoid any problems during the submission process.' %}</p>
                                    <br>

                                    <h1 class="title"
                                        style="font-family: RastinPlus, sans-serif">{% trans 'Customer informations' %}
                                    </h1>
                                    <hr>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item" style="font-size: large">
                                            {% trans 'Name' %} : {{ user_profile.name }}
                                        </li>
                                        <li class="list-group-item">
                                            {% trans 'Lastname' %} : {{ user_profile.lastname }}
                                        </li>
                                        <li class="list-group-item">
                                            {% trans 'Phonenumber' %} : {{ user_profile.username }}
                                        </li>
                                        <li class="list-group-item">
                                            {% trans 'province' %} : {{ user_profile.province }}<br>
                                            {% trans 'city' %} : {{ user_profile.city }}<br>
                                            {% trans 'Adress' %} : {{ user_profile.address }}
                                        </li>
                                        <li class="list-group-item">
                                            {% trans 'postalcode' %} : {{ user_profile.postal_code }}
                                        </li>
                                    </ul>
                                    <br>
                                    <a href="{% url 'accounts:edit_profile' %}">{% trans 'edit your account details' %}</a>
                                </div>

                                <div class="tab-pane fade" id="orders">
                                    <h1 class="title"
                                        style="font-family: RastinPlus, sans-serif">{% trans 'Orders' %}
                                    </h1>
                                    <hr>
                                    {% if orders %}
                                        <div class="table-content table-responsive">
                                            <table class="table text-center">
                                                <thead>
                                                <tr>
                                                    <th style="font-size: medium">{% trans "Order number" %}</th>
                                                    <th style="font-size: medium">{% trans "Date" %}</th>
                                                    <th style="font-size: medium">{% trans "Status" %}</th>
                                                    <th style="font-size: medium">{% trans "Total" %}</th>
                                                    <th style="font-size: medium"></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                {% for order in orders %}
                                                    <tr>
                                                        <td>{{ order.order_number }}</td>
                                                        <td class="wide-column">{{ order.datetime_created|jformat:"%Y/%m/%d" }}</td>
                                                        <td>{{ order.get_status_display }}</td>
                                                        <td class="wide-column">{{ order.total_price|price_fa }} {% trans "Toman" %}</td>
                                                        <td>
                                                            <div class="form__group" style="text-align:center;">
                                                                <a href="{% url 'orders:order_detail' order.id %}">
                                                                    <input type="submit"
                                                                           style="font-family: RastinPlus, sans-serif"
                                                                           value="{% trans "View" %}"
                                                                           class="btn btn-submit btn-style-1">
                                                                </a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    {% else %}
                                        <div class="message-box mb--30">
                                            <p>
                                                {% trans "No order has been made yet." %}
                                            </p>
                                            <div class="form__group" style="text-align:center;">
                                                <a href="{% url 'products:product_list' %}">
                                                    <input type="submit" style="font-family: RastinPlus, sans-serif"
                                                           value="{% trans "Go Shop" %}"
                                                           class="btn btn-submit btn-style-1">
                                                </a>
                                            </div>
                                        </div>
                                    {% endif %}
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Content Wrapper Start -->

{% endblock content %}
